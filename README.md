# Chromeブックマーク整理ツール

## 1. ツールの概要

このツールは、Google ChromeからエクスポートしたブックマークファイルをGemini APIを利用して自動でカテゴリ分類し、整理された新しいブックマークファイルを生成するPythonスクリプトです。

大量のブックマークを手作業で整理する手間を省き、「開発 > Python」や「ニュース > 経済」のような階層構造で自動的にフォルダ分けします。

## 2. インストール方法

### a. Gemini APIキーの取得と設定

1.  [Google AI for Developers](https://ai.google.dev/gemini-api/docs/api-key?hl=ja)にアクセスし、APIキーを取得します。
2.  取得したAPIキーを環境変数 `GEMINI_API_KEY` に設定します。

    **macOS/Linuxの場合:**
    ```bash
    export GEMINI_API_KEY='YOUR_API_KEY'
    ```

    **Windows (PowerShell)の場合:**
    ```powershell
    $env:GEMINI_API_KEY='YOUR_API_KEY'
    ```
    （ターミナルを再起動すると設定がリセットされるため、恒久的に設定したい場合は `.zshrc` や `.bash_profile` などに追記してください）

### b. 依存関係のインストール

プロジェクトのルートディレクトリで以下のコマンドを実行し、必要なライブラリをインストールします。

```bash
`pip install -r requirements.txt`
```

## 3. 使い方

1.  **Chromeからブックマークをエクスポート**
    - Chromeを開き、ブックマークマネージャ（`chrome://bookmarks`）にアクセスします。
    - 右上のメニュー（︙）から「ブックマークをエクスポート」を選択し、HTMLファイルとして保存します（例: `bookmarks.html`）。

2.  **スクリプトを実行**
    ターミナルで以下のコマンドを実行します。引数には、先ほどエクスポートしたHTMLファイルのパスを指定してください。

    ```bash
    python main.py path/to/your/bookmarks.html
    ```

3.  **整理されたブックマークをインポート**
    - スクリプトが完了すると、`organized_bookmarks.html` というファイルが生成されます。
    - 再びChromeのブックマークマネージャを開き、右上のメニューから「ブックマークをインポート」を選択します。
    - 生成された `organized_bookmarks.html` を選択すると、カテゴリ分類されたフォルダ構造でブックマークがインポートされます。

## 4. カスタマイズ方法

分類のルールやカテゴリの粒度は、プロンプトを編集することで調整できます。

-   **プロンプトの編集箇所:**
    -   `main.py` ファイル内の `get_categories_batch` 関数にある `prompt` という変数に、Gemini APIへの指示（プロンプト）が格納されています。

-   **カスタマイズ例:**
    -   カテゴリの階層を「最大2階層まで」に変更する。
    -   「必ず英語でカテゴリ名を生成してください」といった指示を追加する。
    -   特定のURL（社内ツールなど）を特定のカテゴリに強制的に割り当てるルールを追加する。

    ```python
    # main.py の get_categories_batch 関数内

    prompt = f"""
    あなたはブックマークの分類アシスタントです。
    以下のルールに従って、ブックマークを分類してください。

    # ルール
    - カテゴリは最大2階層にしてください。  # <--- ここを編集
    - カテゴリ名は英語にしてください。      # <--- このような指示を追加
    ...
    """
    ```

    この `prompt` 変数の内容を書き換えることで、より自分の好みに合った分類結果を得ることができます。
